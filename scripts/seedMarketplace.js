import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.VITE_SUPABASE_URL;
const supabaseServiceKey = process.env.SUPABASE_SERVICE_KEY;

if (!supabaseUrl || !supabaseServiceKey) {
  console.error('Missing environment variables. Ensure VITE_SUPABASE_URL and SUPABASE_SERVICE_KEY are set.');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, supabaseServiceKey);

const marketplaceListings = [
  {
    title: 'iPhone 14 Pro Max 256GB',
    title_zh: 'iPhone 14 Pro Max 256GB',
    description: 'Barely used iPhone 14 Pro Max in excellent condition. Includes original box, charger, and case. No scratches on screen.',
    description_zh: 'å‡ ä¹å…¨æ–°çš„iPhone 14 Pro Maxï¼ŒçŠ¶å†µæä½³ã€‚åŒ…å«åŸè£…ç›’ã€å……ç”µå™¨å’Œä¿æŠ¤å£³ã€‚å±å¹•æ— åˆ’ç—•ã€‚',
    category: 'electronics',
    subcategory: 'phones',
    price_rmb: 6500,
    currency: 'CNY',
    negotiable: true,
    condition: 'like-new',
    brand: 'Apple',
    location_province: 'Shanghai',
    location_city: 'Shanghai',
    location_area: 'Pudong',
    image_urls: ['https://images.unsplash.com/photo-1632661674596-df8be070a5c5?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null, // Will need to be set to a real user ID
  },
  {
    title: 'IKEA Sofa - 3 Seater',
    title_zh: 'å®œå®¶æ²™å‘ - ä¸‰äººåº§',
    description: 'Comfortable 3-seater sofa from IKEA. Light gray fabric. Perfect for small apartments. Selling due to relocation.',
    description_zh: 'å®œå®¶èˆ’é€‚çš„ä¸‰äººåº§æ²™å‘ï¼Œæµ…ç°è‰²å¸ƒæ–™ã€‚é€‚åˆå°å…¬å¯“ã€‚å› æ¬å®¶å‡ºå”®ã€‚',
    category: 'furniture',
    price_rmb: 1200,
    currency: 'CNY',
    negotiable: true,
    condition: 'used',
    brand: 'IKEA',
    location_province: 'Beijing',
    location_city: 'Beijing',
    location_area: 'Chaoyang',
    image_urls: ['https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null,
  },
  {
    title: 'Mountain Bike - Giant ATX 27.5',
    title_zh: 'å±±åœ°è‡ªè¡Œè½¦ - æ·å®‰ç‰¹ ATX 27.5',
    description: 'Well-maintained Giant mountain bike. 27.5 inch wheels, 21-speed gear system. Great for weekend rides.',
    description_zh: 'ä¿å…»è‰¯å¥½çš„æ·å®‰ç‰¹å±±åœ°è½¦ã€‚27.5è‹±å¯¸è½¦è½®ï¼Œ21é€Ÿå˜é€Ÿç³»ç»Ÿã€‚é€‚åˆå‘¨æœ«éª‘è¡Œã€‚',
    category: 'sports',
    subcategory: 'bicycles',
    price_rmb: 800,
    currency: 'CNY',
    negotiable: true,
    condition: 'used',
    brand: 'Giant',
    location_province: 'Guangdong',
    location_city: 'Shenzhen',
    location_area: 'Nanshan',
    image_urls: ['https://images.unsplash.com/photo-1576435728678-68d0fbf94e91?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'wechat',
    contact_wechat: 'bikeowner123',
    status: 'published',
    user_id: null,
  },
  {
    title: 'Canon EOS R6 Camera Body',
    title_zh: 'ä½³èƒ½ EOS R6 æœºèº«',
    description: 'Canon EOS R6 mirrorless camera body. Low shutter count (5000). Comes with 2 batteries and original accessories.',
    description_zh: 'ä½³èƒ½EOS R6å¾®å•ç›¸æœºæœºèº«ã€‚å¿«é—¨æ¬¡æ•°å°‘(5000æ¬¡)ã€‚é™„å¸¦2å—ç”µæ± å’ŒåŸè£…é…ä»¶ã€‚',
    category: 'electronics',
    subcategory: 'cameras',
    price_rmb: 12000,
    currency: 'CNY',
    negotiable: false,
    condition: 'like-new',
    brand: 'Canon',
    location_province: 'Zhejiang',
    location_city: 'Hangzhou',
    image_urls: ['https://images.unsplash.com/photo-1606980624361-a8b9ca2cfab3?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null,
  },
  {
    title: 'Office Desk with Drawers',
    title_zh: 'å¸¦æŠ½å±‰çš„åŠå…¬æ¡Œ',
    description: 'Solid wood office desk with 3 drawers. 120cm x 60cm. Excellent condition, barely used.',
    description_zh: 'å®æœ¨åŠå…¬æ¡Œï¼Œ3ä¸ªæŠ½å±‰ã€‚å°ºå¯¸120cm x 60cmã€‚çŠ¶å†µæä½³ï¼Œå‡ ä¹æœªä½¿ç”¨ã€‚',
    category: 'furniture',
    price_rmb: 600,
    currency: 'CNY',
    negotiable: true,
    condition: 'like-new',
    dimensions: 'L120cm x W60cm x H75cm',
    location_province: 'Shanghai',
    location_city: 'Shanghai',
    location_area: 'Jing\'an',
    image_urls: ['https://images.unsplash.com/photo-1518455027359-f3f8164ba6bd?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null,
  },
  {
    title: 'Nike Air Max 2023 - Size 42',
    title_zh: 'Nike Air Max 2023 - 42ç ',
    description: 'Brand new Nike Air Max 2023 sneakers, still in box. Size EU 42. Never worn, perfect gift!',
    description_zh: 'å…¨æ–°Nike Air Max 2023è¿åŠ¨é‹ï¼ŒåŸç›’æœªæ‹†ã€‚æ¬§ç 42ã€‚ä»æœªç©¿è¿‡ï¼Œå®Œç¾ç¤¼ç‰©ï¼',
    category: 'clothing',
    subcategory: 'shoes',
    price_rmb: 850,
    currency: 'CNY',
    negotiable: false,
    condition: 'new',
    brand: 'Nike',
    size: 'EU 42',
    color: 'Black/White',
    location_province: 'Guangdong',
    location_city: 'Guangzhou',
    image_urls: ['https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null,
  },
  {
    title: 'PlayStation 5 with 2 Controllers',
    title_zh: 'PlayStation 5 åŒæ‰‹æŸ„å¥—è£…',
    description: 'PS5 console with 2 DualSense controllers and 5 games. Everything in perfect working condition.',
    description_zh: 'PS5ä¸»æœºï¼Œ2ä¸ªDualSenseæ‰‹æŸ„å’Œ5æ¬¾æ¸¸æˆã€‚ä¸€åˆ‡è¿è¡Œå®Œç¾ã€‚',
    category: 'electronics',
    subcategory: 'gaming',
    price_rmb: 3500,
    currency: 'CNY',
    negotiable: true,
    condition: 'used',
    brand: 'Sony',
    location_province: 'Beijing',
    location_city: 'Beijing',
    location_area: 'Haidian',
    image_urls: ['https://images.unsplash.com/photo-1606813907291-d86efa9b94db?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'phone',
    status: 'published',
    user_id: null,
  },
  {
    title: 'MacBook Air M2 13" 256GB',
    title_zh: 'MacBook Air M2 13å¯¸ 256GB',
    description: 'MacBook Air M2 in Space Gray. 8GB RAM, 256GB SSD. 6 months old, still under warranty. Like new condition.',
    description_zh: 'MacBook Air M2æ·±ç©ºç°è‰²ã€‚8GBå†…å­˜ï¼Œ256GBå›ºæ€ç¡¬ç›˜ã€‚ä½¿ç”¨6ä¸ªæœˆï¼Œä»åœ¨ä¿ä¿®æœŸå†…ã€‚è¿‘ä¹å…¨æ–°ã€‚',
    category: 'electronics',
    subcategory: 'laptops',
    price_rmb: 7200,
    currency: 'CNY',
    negotiable: false,
    condition: 'like-new',
    brand: 'Apple',
    color: 'Space Gray',
    location_province: 'Shanghai',
    location_city: 'Shanghai',
    location_area: 'Xuhui',
    image_urls: ['https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null,
  },
  {
    title: 'Dining Table Set - 4 Chairs',
    title_zh: 'é¤æ¡Œå¥—è£… - 4æŠŠæ¤…å­',
    description: 'Modern dining table with 4 chairs. White finish, perfect for small dining areas. Excellent condition.',
    description_zh: 'ç°ä»£é¤æ¡Œé…4æŠŠæ¤…å­ã€‚ç™½è‰²æ¶‚è£…ï¼Œé€‚åˆå°é¤å…ã€‚çŠ¶å†µæä½³ã€‚',
    category: 'furniture',
    price_rmb: 1500,
    currency: 'CNY',
    negotiable: true,
    condition: 'used',
    location_province: 'Jiangsu',
    location_city: 'Nanjing',
    image_urls: ['https://images.unsplash.com/photo-1615066390971-03e4e1c36ddf?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'in_app',
    status: 'published',
    user_id: null,
  },
  {
    title: 'Electric Scooter - Xiaomi Mi',
    title_zh: 'ç”µåŠ¨æ»‘æ¿è½¦ - å°ç±³',
    description: 'Xiaomi electric scooter in great condition. Max speed 25km/h, range 30km. Perfect for commuting.',
    description_zh: 'å°ç±³ç”µåŠ¨æ»‘æ¿è½¦çŠ¶å†µè‰¯å¥½ã€‚æœ€é«˜æ—¶é€Ÿ25å…¬é‡Œï¼Œç»­èˆª30å…¬é‡Œã€‚é€‚åˆé€šå‹¤ã€‚',
    category: 'sports',
    subcategory: 'scooters',
    price_rmb: 1100,
    currency: 'CNY',
    negotiable: true,
    condition: 'used',
    brand: 'Xiaomi',
    location_province: 'Guangdong',
    location_city: 'Shenzhen',
    location_area: 'Futian',
    image_urls: ['https://images.unsplash.com/photo-1609779333097-68c1c6f6649e?auto=format&fit=crop&w=600&q=80'],
    contact_method: 'wechat',
    contact_wechat: 'scooter_seller',
    status: 'published',
    user_id: null,
  },
];

async function seedMarketplace() {
  console.log('ğŸ›’ Seeding marketplace_listings...');
  
  // Note: user_id will need to be set or handled via database trigger
  const { data, error } = await supabase
    .from('marketplace_listings')
    .insert(marketplaceListings)
    .select();

  if (error) {
    console.error('âŒ Error seeding marketplace:', error.message);
  } else {
    console.log(`âœ… Successfully seeded ${data.length} marketplace listings`);
  }
}

seedMarketplace();
